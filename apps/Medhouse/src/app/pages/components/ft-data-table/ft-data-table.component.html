<div class="table-responsive">
  <table
    datatable
    style="width: 100%"
    [dtOptions]="dtOptions"
    class="table table-sm table-hover table-striped"
  >
    <thead>
      <tr>
        <th *ngFor="let col of Settings.columns">{{ col.label }}</th>
      </tr>
    </thead>
    <tbody *ngIf="data?.length != 0">
      <tr
        *ngFor="let row of data"
        (click)="selectRow(row)"
        [ngStyle]="{ color: rowSelected(row) ? 'white' : 'black' }"
        [ngClass]="{ 'bg-info': rowSelected(row) }"
      >
        <ng-container *ngFor="let col of Settings.columns">
          <td *ngIf="!(col.visible == false || col.isAction)">
            <span
            [ngClass]="{
              'btn btn-sm btn-primary': col.button.style !=='link',
              'link': col.button.style =='link'
          }"
              (click)="col.button.callback(row)"
              *ngIf="col.button; else plain"
            >
              {{ col.valueFormatter ? col.valueFormatter(row) : row[col.data] }}
            </span>
            <ng-template #plain>
              <img
              class="img-responsive img-thumbnail"
              [src]="UploadUrl + row[col.data]"
              alt=""
              *ngIf="col.type == 'image'"
              style="max-width: 50px"
            />

              <span *ngIf="col.type == undefined || col.type != 'image'"
                [innerHtml]="
                col.valueFormatter
                ?
                col.valueFormatter(row)
                :
                row[col.data]"

              >
              </span>
            </ng-template>
          </td>


        <td class="text-truncate" *ngIf="col.isAction==true">
          <div *ngIf="Settings.crud">
            <a href="javascript:;" class="success p-0">
              <i class="ft-edit-2 font-medium-3 mr-2"></i>
            </a>
            <a href="javascript:;" class="danger p-0">
              <i class="ft-x font-medium-3"></i>
            </a>
          </div>
          <div
            class="text-right"
            ngbDropdown
            container="body"
            *ngIf="Settings.actions.length > 0"
          >
            <button type="button" class="btn btn-sm caret-off" ngbDropdownToggle>
              <i class="ft-more-vertical text-primary cursor-pointer mr-2"> </i>
            </button>
            <div ngbDropdownMenu>
              <a
                href="#"
                ngbDropdownItem
                *ngFor="let act of Settings.actions"
                (click)="ClickActionEv(row, act.action)"
              >
                <i
                  class="fa fa-{{ act.icon }} text-{{ act.class || 'primary' }}"
                  *ngIf="act.icon"
                >
                </i>
                {{ act.title }}
              </a>
            </div>
          </div>
        </td>
      </ng-container>
      </tr>
    </tbody>
    <tbody *ngIf="data?.length == 0">
      <tr>
        <td colspan="{{ Settings.columns.length + 1 }}" class="no-data-available">
          No data!
        </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- <table datatable [dtOptions]="dtOptions" class="table"></table> -->
